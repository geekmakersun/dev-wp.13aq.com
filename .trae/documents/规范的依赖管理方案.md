# 规范的依赖管理方案

## 问题分析
1. 不想使用node_modules目录，因为git管理不方便
2. 不想使用CDN，想要纯本地方案
3. 想要能够更新tailwindcss和其他依赖
4. 自定义样式可以覆盖默认样式，且不影响tailwindcss更新

## 解决方案
### 1. 目录结构设计
```
assets/
├── css/
│   ├── custom.css         # 自定义样式（直接编写CSS）
│   └── custom.scss        # 自定义SCSS源文件（可选，如需使用SCSS）
└── vendor/                # 第三方依赖目录
    ├── tailwindcss/
    │   └── tailwind.min.css
    ├── jquery/
    │   └── jquery.min.js
    └── ...                # 其他依赖
```

### 2. 依赖管理脚本
创建一个`update-deps.sh`脚本，用于下载和更新依赖：
```bash
#!/bin/bash

# 创建vendor目录结构
mkdir -p assets/vendor/tailwindcss assets/vendor/jquery

# 下载tailwindcss（最新稳定版）
curl -o assets/vendor/tailwindcss/tailwind.min.css https://cdn.jsdelivr.net/npm/tailwindcss@3.4.0/dist/tailwind.min.css

# 下载jquery（最新稳定版）
curl -o assets/vendor/jquery/jquery.min.js https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js

# 可以添加其他依赖的下载命令，例如：
# mkdir -p assets/vendor/uikit
# curl -o assets/vendor/uikit/uikit.min.css https://cdn.jsdelivr.net/npm/uikit@3.25.4/dist/css/uikit.min.css
# curl -o assets/vendor/uikit/uikit.min.js https://cdn.jsdelivr.net/npm/uikit@3.25.4/dist/js/uikit.min.js
# curl -o assets/vendor/uikit/uikit-icons.min.js https://cdn.jsdelivr.net/npm/uikit@3.25.4/dist/js/uikit-icons.min.js
```

### 3. 样式加载顺序
在`functions.php`中按以下顺序加载样式：
1. Tailwind CSS（从vendor目录）
2. 其他第三方样式（从vendor目录）
3. 自定义样式（最后加载，可覆盖默认样式）

### 4. 自定义样式管理
- 直接编写`custom.css`文件，使用CSS覆盖Tailwind的默认样式
- 如需使用SCSS，可编写`custom.scss`，然后使用单独的编译命令（如`npm run build:css`）编译为CSS
- 自定义样式始终最后加载，确保可以覆盖Tailwind的默认样式

## 实施步骤

1. **创建vendor目录结构**
   - 创建`assets/vendor`目录
   - 创建子目录用于不同依赖

2. **编写依赖管理脚本**
   - 创建`update-deps.sh`脚本
   - 配置依赖下载命令
   - 赋予脚本执行权限：`chmod +x update-deps.sh`

3. **更新functions.php**
   - 从vendor目录加载Tailwind CSS
   - 从vendor目录加载其他依赖
   - 最后加载自定义样式

4. **创建自定义样式文件**
   - 创建`custom.css`文件，编写自定义样式
   - 如需使用SCSS，创建`custom.scss`文件

5. **测试方案**
   - 运行脚本下载依赖：`./update-deps.sh`
   - 检查样式加载顺序
   - 测试自定义样式是否能覆盖默认样式

## 优势
1. **便于git管理**：vendor目录结构清晰，只包含必要的文件
2. **易于更新**：通过脚本一键更新所有依赖
3. **样式覆盖**：自定义样式最后加载，可以覆盖默认样式
4. **扩展性好**：可以轻松添加其他npm依赖
5. **纯本地方案**：不依赖CDN，所有资源本地管理
6. **不影响更新**：更新Tailwind CSS时，自定义样式保持不变

## 后续扩展
当需要添加新的npm依赖时，只需：
1. 在脚本中添加对应的下载命令
2. 在functions.php中添加对应的加载代码
3. 运行脚本即可

这个方案既解决了node_modules目录过大的问题，又保持了依赖管理的便捷性，同时确保了自定义样式可以正确覆盖默认样式，且不影响Tailwind CSS的更新。